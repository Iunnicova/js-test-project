// 8:02
@use '../helpers' as *; // Импорт всех утилит (функций, миксинов, переменных) из helpers без префикса.

.expandable-content {
  --initialMaxHeight: #{rem(500)}; // Локальная CSS-переменная: максимальная высота свернутого блока.

  position: relative; // Нужно для абсолютного позиционирования внутренних элементов.
  overflow-y: hidden; // Скрытие вертикального скролла — всё, что выходит за пределы, не видно.

  // Развёрнутое состояние
  &.is-expanded {
    &::before, // Затемнение снизу скрывается.
    .expandable-content__button {
      // Кнопка "Показать больше" тоже скрывается.
      @include hide; // Миксин, скорее всего, включает display: none или visibility: hidden.
    }
  }

  // Свернутое состояние: применяем ограничение по высоте
  &:not(.is-expanded) {
    max-height: var(--initialMaxHeight); // Ограничение высоты блока.
  }

  // Затемнение нижней части блока
  &::before {
    content: ''; // Обязательное свойство для отображения псевдоэлемента.
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 30%; // Высота градиента — 30% от блока.

    background-image: linear-gradient(
      180deg,
      // Градиент сверху вниз.
      rgba(20, 20, 20, 0) 0%,
      // Прозрачный сверху.
      #141414 77.38% // Темный снизу.
    );

    pointer-events: none; // Псевдоэлемент не перехватывает клики.
    transition-duration: var(
      --transition-duration
    ); // Плавный переход (возможно, из helpers).
  }

  // Кнопка "Развернуть"
  &__button {
    @include abs-x; // Центрирование по горизонтали с помощью absolute + transform.
    bottom: rem(68); // Отступ от нижнего края (в rem).
  }
}
